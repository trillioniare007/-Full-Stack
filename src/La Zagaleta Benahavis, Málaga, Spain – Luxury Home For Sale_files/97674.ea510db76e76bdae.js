(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97674,82696],{3189:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var l=n(85893),o=n(37054);n(67294);var i=n(66768),r=n(56103),a=n(91752),u=n(85821);let d={ToTwoLetterISO:{eng:"en",spu:"es",spa:"es",deu:"de",frc:"fr",fra:"fr",ita:"it",jpn:"ja",pob:"pt",por:"pt",rus:"ru",zhs:"zh",zht:"zh",vie:"vi",kor:"ko",tur:"tr",nld:"nl",swe:"sv",ell:"el"},ToLanguageISO:{en:"eng",es:"spu",de:"deu",fr:"frc",it:"ita",ja:"jpn",pt:"pob",ru:"rus",zh:"zhs",vi:"vie",ko:"kor",tr:"tur",nl:"nld",sv:"swe",el:"ell"}},s=e=>{let{children:t,libraries:n,onLoadFunction:s,onErrorFunction:p,onUnmountFunction:c}=e,f=(0,a.G)().Misc().googleMapsInitialized,[,g]=(0,u.d)(!1),v=()=>{g(!0,e=>{!0!==e||f||i.y.dispatch((0,r.Y7)({key:"googleMapsInitialized",value:!0}))})};return f?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(o.LM,{googleMapsClientId:"gme-nrtllc",googleMapsApiKey:"",libraries:n,language:d.ToTwoLetterISO[(0,a.G)().SiteSettings().LanguageISO],onLoad:()=>{v(),s&&s()},onError:p,onUnmount:c,children:t})};var p=s},97674:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var l=n(85893),o=n(37054),i=n(67294),r=n(50068),a=n(91752);let u={MapViewListingItem:["AffinityDefault"]};var d=n(5152),s=n.n(d),p=n(3189),c=n(15324);let f=e=>{var t,d,f,g,m,C,y,h,b,k,w,x,O,M,S,j,T,L;let I;let{MapLatitude:_,MapLongitude:P,MapStatusText:D,MapListingId:R,settings:z,markerData:N,MapMarkerContent:A}=e,F={MapControlsType:"custom",MapControlPositions:{ZoomControl:14,StreetViewControl:-1,MapTypeControl:-1},ContainerStyles:{width:"100%",height:"100%"},option:{zoomControl:!0,mapTypeControl:!0,fullscreenControl:!0,streetViewControl:!0}},V=F;z&&(V={...F,...z});let E=()=>{let e=(0,a.G)().Misc().channelKey;return e===c.g.Sales||e===c.g.Rentals||e===c.g.Sold||e===c.g.Rented||e===c.g.VacationRentals?"listing":e===c.g.BuildingsCommunities?"community":void 0},G=(0,r.Z)(),U=u.MapViewListingItem.includes(G)?s()(()=>n(94719)("./".concat(G,"/").concat(G))):s()(()=>Promise.all([n.e(39120),n.e(49610)]).then(n.bind(n,49610)),{loadableGenerated:{webpack:()=>[49610]}}),H=(0,a.G)().SiteSettings().PageType,Z=!0,B={latitude:void 0,longitude:void 0,statusText:void 0,maptype:void 0,listingId:null};if(N)B.latitude=null==N?void 0:null===(t=N.latlng)||void 0===t?void 0:null===(d=t._attributes)||void 0===d?void 0:d.lat,B.longitude=null==N?void 0:null===(f=N.latlng)||void 0===f?void 0:null===(g=f._attributes)||void 0===g?void 0:g.lng,B.statusText=null==N?void 0:null===(m=N.status)||void 0===m?void 0:m._text,B.maptype=null==N?void 0:N.recordType,B.listingId=null==N?void 0:null===(C=N._attributes)||void 0===C?void 0:C.id;else if("listingdetails"===H||"brokerdetails"===H)B.latitude=_||null,B.longitude=P||null,B.statusText=D?v(D):null,B.maptype=E(),B.listingId=R||null,Z=!1;else{let e;let t=(0,a.G)().MainModuleBaseData();I=null==t?void 0:null===(y=t.legacyData)||void 0===y?void 0:null===(h=y.listingresult)||void 0===h?void 0:null===(b=h.recordmarkers)||void 0===b?void 0:b.recordmarker;let n=null==I?void 0:I.filter(e=>e._attributes.id===R);e=n[0],B.latitude=null==e?void 0:null===(k=e.latlng)||void 0===k?void 0:null===(w=k._attributes)||void 0===w?void 0:w.lat,B.longitude=null==e?void 0:null===(x=e.latlng)||void 0===x?void 0:null===(O=x._attributes)||void 0===O?void 0:O.lng,B.statusText=null==e?void 0:null===(M=e.status)||void 0===M?void 0:M._text,B.maptype=E(),B.listingId=null==e?void 0:null===(S=e._attributes)||void 0===S?void 0:S.id}if(!I&&(!B.latitude||!B.longitude))return(0,l.jsx)(l.Fragment,{});{let e=i.useCallback(function(e){let t=parseFloat(B.latitude),n=parseFloat(B.longitude);e.setCenter({lat:t,lng:n})},[]),t=s()(()=>n.e(63089).then(n.bind(n,63089)),{loadableGenerated:{webpack:()=>[63089]},ssr:!1});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(U,{}),(0,l.jsx)(p.Z,{children:(0,l.jsxs)(o.b6,{mapContainerStyle:V.ContainerStyles,zoom:V.MapControlPositions.ZoomControl,onLoad:e,options:{disableDefaultUI:Z,zoomControl:!0,mapTypeControl:(null==V?void 0:null===(j=V.option)||void 0===j?void 0:j.mapTypeControl)==="true",fullscreenControl:(null==V?void 0:null===(T=V.option)||void 0===T?void 0:T.fullscreenControl)==="true",streetViewControl:(null===(L=V.option)||void 0===L?void 0:L.streetViewControl)==="true",minZoom:2,restriction:{latLngBounds:{north:85,south:-85,west:-180,east:180}}},children:["listingbrochure"!==B.maptype?(0,l.jsx)(t,{marker:{coords:{lat:B.latitude,lng:B.longitude},status:B.statusText,type:B.maptype,listingId:B.listingId},MapMarkerContent:A}):null,"listingbrochure"===B.maptype?(0,l.jsx)(o.Jx,{position:{lat:parseFloat(B.latitude),lng:parseFloat(B.longitude)}}):null]})})]})}};var g=f;let v=e=>{if(!e)return;let t={undercontract:"UnderContract",contractpending:"ContractPending",expired:"Expired",openhouse:"OpenHouse",pricereduced:"PriceReduced",new:"New",featured:"Featured",recent:"Recent",virtualopenhouse:"VirtualOpenHouse",comingsoon:"ComingSoon",soldorrented:"Rented",firstlook:"FirstLook",offerpending:"OfferPending",offmarket:"OffMarket",wfpexclusive:"WfpExclusive"},n=Object.keys(e).filter(t=>"true"===e[t]._text).map(e=>t[e]),l=n.length>1?n.join(", "):n[0];return C(l)},m={ComingSoon:"ComingSoon",Normal:"Normal",New:"New",PriceReduced:"PriceReduced",OpenHouse:"OpenHouse",VirtualOpenHouse:"VirtualOpenHouse",Saved:"Saved",ContractPending:"ContractPending",UnderContract:"UnderContract",Recent:"Recent",SoldListing:"SoldListing",Rented:"Rented",OfferPending:"OfferPending",OffMarket:"OffMarket"},C=e=>{if(null==e)return m.Normal.toLowerCase();let t="\\b("+Object.keys(m).join("|")+")\\b",n=e.match(RegExp(t,"i"));if(n){let e=n[0];return m[e].toLowerCase()}return m.Normal.toLowerCase()}},94719:function(e,t,n){var l={"./AffinityDefault/AffinityDefault":[49610,9,39120,49610],"./AffinityDefault/AffinityDefault.scss":[60047,7,39120,60047],"./AffinityDefault/AffinityDefault.tsx":[49610,9,39120,49610],"./AffinityDefault/inline":[76729,9,76729],"./AffinityDefault/inline.ts":[76729,9,76729]};function o(e){if(!n.o(l,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=l[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then(function(){return n.t(o,16|t[1])})}o.keys=function(){return Object.keys(l)},o.id=94719,e.exports=o}}]);