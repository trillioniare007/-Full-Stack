"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67904],{67904:function(e,i,t){t.r(i),t.d(i,{default:function(){return d}});var n=t(85893),a=t(67294),r=t(13307);let o={IsInitialized:!1,PageType:window.BDXReportingImplementation?window.BDXReportingImplementation.PageType:"undefined",SourceName:"",IdListing:"",IsListingOrCommunityClickDataSet:!1,PartnerId:window.BDXReportingImplementation?window.BDXReportingImplementation.PartnerId:"undefined",_bhiSite:"https://api.newhomesource.com/api/v2/log/partnerevent",HandleReportingEvents:function(e,i){null==i||i.forEach(function(e){let i=e.Event.name;if(null!==e.ExtraParams&&void 0!==e.ExtraParams){let t=void 0!==e.ExtraParams.sourcename?e.ExtraParams.sourcename:"";if(""!==t&&t.toLowerCase().indexOf("bhi")>-1){let n=o.GetBHIPrefixedId(e.EventData.IdListing,t);o._LogEvent(i,n)}}})},GetBHIPrefixedId:function(e,i){let t,n,a="";if(e&&e.indexOf("-")>-1){switch(t=e.substring(e.lastIndexOf("-")+1),i.toLowerCase()){case"bhi_listings_specs":n="BHIS";break;case"bhi_listings_plans":n="BHIP";break;default:n="BHIC"}""!==t&&(a=n+t)}return a},InitializeBDXReporting:function(){},_LogEvent:function(e,i){let t="";switch(e){case"RE.Listing.Results":case"RE.Community.Results":t="Search";break;case"RE.Listing.Detail":case"RE.Community.Detail":t="View";break;case"RE.Listing.ClickThroughAdvertiserHomepageURL":case"RE.Listing.ClickThroughAdvertiserListingURL":t="Click";break;case"RE.Listing.ClickToCall":t="Phone";break;case"RE.Listing.VideoTour":t="Video";break;case"RE.Listing.PrintListing":t="Print"}""!==t&&(o.IsInitialized||o.InitializeBDXReporting(),o._LogToBDX(t,i))},InitializeClickReportData:function(){let e=(0,r.DM)(),i=void 0!==e?e[Object.keys(e)[0]]:{};if(void 0===i||void 0===i.sourcename||void 0===i.idlisting){o.IsListingOrCommunityClickDataSet=!1;return}o.SourceName=i.sourcename,o.IdListing=i.idlisting,""!==o.SourceName&&o.SourceName.toLowerCase().indexOf("bhi")>-1&&""!==o.IdListing?o.IsListingOrCommunityClickDataSet=!0:o.IsListingOrCommunityClickDataSet=!1},LogClickEvent:function(){if(o.InitializeClickReportData(),!o.IsListingOrCommunityClickDataSet)return;o.IsInitialized||o.InitializeBDXReporting();let e=o.GetBHIPrefixedId(o.IdListing,o.SourceName);""!==e&&o._LogToBDX("Click",e)},_LogToBDX:function(e,i){let t=o._bhiSite+"/partnerId-"+o.PartnerId+"/eventCode-"+e+"/propertyId-"+i+"/testmode-false",n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send()}};var s=t(91752);let l=e=>{let{BDXReportingObject:i}=e,t=(0,s.G)().SiteSettings().PageType;return(0,a.useEffect)(()=>{"function"==typeof r.tE&&(o.PartnerId=(null==i?void 0:i.partnerid)?null==i?void 0:i.partnerid:"undefined",o.PageType=t||"undefined",o.InitializeBDXReporting(),(0,r.tE)(o.HandleReportingEvents))},[]),(0,n.jsx)(n.Fragment,{children:null})};var d=l}}]);