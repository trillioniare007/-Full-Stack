"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13018],{13018:function(e,i,t){let n;t.r(i),t.d(i,{default:function(){return h}});var s=t(85893),r=t(4298),l=t.n(r),a=t(67294),d=t(13519);let o={ListHubChannelId:window.ListHubReportingImplementation?window.ListHubReportingImplementation.ListHubChannelId:"undefined",Version:window.ListHubReportingImplementation?window.ListHubReportingImplementation.Version:"1",UseMLSId:window.ListHubReportingImplementation?window.ListHubReportingImplementation.UseMLSId:"false",handleReportingEvents(e){var i,t;if(!e)return;let s=[],r=void 0!==(null==window?void 0:window.lh)?window.lh:void 0,l=r&&(null==r?void 0:r.tracker)?null==r?void 0:r.tracker:void 0;null==e||null===(i=e.detail)||void 0===i||i.reportObjectArray.forEach(e=>{let i=e.Event.name;if(-1===["RE.Listing.EmailAgent","RE.Listing.ClickThroughAdvertiserHomepageURL","RE.Listing.ClickToCall","RE.Listing.Detail","RE.Listing.Results"].indexOf(i))return;let t="";if(o.UseMLSId&&(t=e.EventData.IdMLS),""===t&&(t=o.GetPropertyWebIdFromListingId(e.EventData.IdListing,e.EventData.IdClient,e.EventData.IdAccount)),""!==t){if("2"===o.Version||"2.1"===o.Version){if(void 0===l||"2"===o.Version&&""===e.EventData.AddrZip)return;let i=RegExp("^(3yd)-([a-z0-9]+)-([a-z0-9\\-]+)$","i");if("2.1"===o.Version&&!o.UseMLSId&&!i.test(t.toLowerCase()))return}if(("3"!==o.Version||""!==e.EventData.AddrZip&&void 0!==r)&&("3.1"!==o.Version||e.EventData.IdListHubKey&&void 0!==r)&&("1"!==o.Version||void 0!==n))switch(i){case"RE.Listing.EmailAgent":if("3.1"===o.Version){r("submit","AGENT_EMAIL_SENT",{lkey:e.EventData.IdListHubKey});break}if("3"===o.Version){r("submit","AGENT_EMAIL_SENT",{mlsn:t,zip:e.EventData.AddrZip});break}if("2"===o.Version){l.submit("QUESTION",{lid:t,zip:e.EventData.AddrZip});break}"2.1"===o.Version?l.submit("AGENT_EMAIL_SENT",t):n(t,o.ListHubChannelId,"QUESTION");break;case"RE.Listing.ClickThroughAdvertiserHomepageURL":if("3.1"===o.Version){r("submit","AGENT_WEBSITE_CLICKED",{lkey:e.EventData.IdListHubKey});break}if("3"===o.Version){r("submit","AGENT_WEBSITE_CLICKED",{mlsn:t,zip:e.EventData.AddrZip});break}"2"===o.Version&&l.submit("AGENT_WEBSITE_CLICKED",{lid:t,zip:e.EventData.AddrZip}),"1"===o.Version&&n(t,o.ListHubChannelId,"AGENT_WEBSITE_CLICKED");break;case"RE.Listing.ClickToCall":if("3.1"===o.Version){r("submit","AGENT_PHONE_CALL",{lkey:e.EventData.IdListHubKey});break}if("3"===o.Version){r("submit","AGENT_PHONE_CLICKED",{mlsn:t,zip:e.EventData.AddrZip});break}if("2"===o.Version){l.submit("AGENT_PHONE_CLICKED",{lid:t,zip:e.EventData.AddrZip});break}"2.1"===o.Version&&l.submit("AGENT_PHONE_CLICKED",t);break;case"RE.Listing.Results":if("3.1"===o.Version){s.push({lkey:e.EventData.IdListHubKey,sample:"dample"});break}if("3"===o.Version){s.push({mlsn:t,zip:e.EventData.AddrZip});break}if("2"===o.Version){s.push({lid:t,zip:e.EventData.AddrZip});break}"2.1"===o.Version&&s.push(t),"1"===o.Version&&s.push(t);break;case"RE.Listing.Detail":if("3.1"===o.Version){r("submit","DETAIL_PAGE_VIEWED",{lkey:e.EventData.IdListHubKey});break}if("3"===o.Version){r("submit","DETAIL_PAGE_VIEWED",{mlsn:t,zip:e.EventData.AddrZip});break}if("2"===o.Version){l.submit("DETAIL_PAGE_VIEWED",{lid:t,zip:e.EventData.AddrZip});break}"2.1"===o.Version&&l.submit("DETAIL_PAGE_VIEWED",t)}}});let a=null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t.reportObjectArray.filter(e=>"RE.Listing.Results"===e.Event.name);if(a.length>0)switch(o.Version){case"3.1":case"3":r("submit","SEARCH_DISPLAY",s);break;case"2":case"2.1":l.submit("SEARCH_DISPLAY",s);break;default:n(s,o.ListHubChannelId,"SEARCH_DISPLAY")}},GetPropertyWebIdFromListingId(e,i,t){if(!e||null===e||(null==e?void 0:e.length)===0)return"";let n=void 0!==i&&i.toString().length>0?i:"[0-9]+",s=void 0!==t&&t.toString().length>0?t:"[0-9]+",r=RegExp('"'.concat(n,"-l-").concat(s,'-([a-zA-Z0-9-]+)"')).exec(e);return null!==r&&r.length>1?r[1]:""}};var u=t(13307),c=t(91752);let E=e=>{let{ListingHubReportingObject:i}=e;(0,a.useEffect)(()=>{"function"==typeof u.tE&&(o.ListHubChannelId=null==i?void 0:i.channelid,o.Version=null==i?void 0:i.version,o.UseMLSId=null==i?void 0:i.usemlsid,(0,u.tE)(o.handleReportingEvents))},[]);let t=(0,c.G)().SiteSettings().IdWebsite;return(0,s.jsx)(s.Fragment,{children:(e=>{if(!e)return null;switch(e.version){case"3.1":return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(l(),{id:"listinghubReporting-".concat(e.channelid),strategy:"afterInteractive",children:"\n								(function(l,i,s,t,h,u,b){{l['ListHubAnalyticsObject']=h;l[h]=l[h]||function(){{\n									(l[h].q=l[h].q||[]).push(arguments)}},l[h].d=1*new Date();u=i.createElement(s),\n									b=i.getElementsByTagName(s)[0];u.async=1;u.src=t;b.parentNode.insertBefore(u,b)\n									}})(window,document,'script','//tracking.listhub.net/la.min.js','lh');\n\n									lh('init', {provider:'".concat(e.channelid,"', test:").concat(null==e?void 0:e.usemlsid,"});\n								")},(0,d.Vj)())},(0,d.Vj)());case"3":return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(l(),{id:"listinghubReporting-".concat(e.channelid),strategy:"afterInteractive",children:"\n								(function(l,i,s,t,h,u,b){{l['ListHubAnalyticsObject']=h;l[h]=l[h]||function(){{\n									(l[h].q=l[h].q||[]).push(arguments)}},l[h].d=1*new Date();u=i.createElement(s),\n									b=i.getElementsByTagName(s)[0];u.async=1;u.src=t;b.parentNode.insertBefore(u,b)\n									}})(window,document,'script','//tracking.listhub.net/la.min.js','lh');\n									/*The below-mentioned script should be added only if the ListingDetailsModule is the main module of the current page */\n									lh('init', {provider:'".concat(e.channelid,"', test:").concat(null==e?void 0:e.usemlsid,"});\n									lh('submit', 'VIEWED_ON_CHANNEL', {mlsn:'").concat((null==e?void 0:e.usemlsid.toString())==="true"?null==e?void 0:e.mlsid:t,"', zip:'").concat(null==e?void 0:e.zipid,"'});\n								")},(0,d.Vj)())},(0,d.Vj)());case"2":case"2.1":return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(l(),{id:"listinghubReporting-".concat(e.channelid),strategy:"afterInteractive",children:'\n									var _lh = new ListHubTracker({ provider: "'.concat(e.channelid,'", test: ').concat(null==e?void 0:e.usemlsid," });\n									/*The below-mentioned script should be added only if the ListingDetailsModule is the main module of the current page */\n									_lh.submit('VIEWED_ON_CHANNEL', { lid: \"").concat((null==e?void 0:e.usemlsid.toString())==="true"?null==e?void 0:e.mlsid:t,'", zip: "').concat(null==e?void 0:e.zipid,'" });\n								')},(0,d.Vj)())},(0,d.Vj)());default:return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(l(),{id:"listinghubReporting-".concat(e.channelid),strategy:"afterInteractive",children:'\n									_listhub_tracker("'.concat((null==e?void 0:e.usemlsid.toString())==="true"?null==e?void 0:e.mlsid:t,'", "').concat(e.channelid,'", "VIEWED_ON_CHANNEL")\n								')},(0,d.Vj)())},(0,d.Vj)())}})(i)})};var h=E}}]);