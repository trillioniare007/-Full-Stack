"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48916],{5956:function(e,t,o){o.d(t,{FN:function(){return h},aj:function(){return u}});var r=o(15324),n=o(91752),i=o(69549),l=o(13307);let a=(0,n.G)().ReportingModules(),u=(null==a?void 0:a.reportingObjets)?JSON.parse(null==a?void 0:a.reportingObjets):null,s=(null==a?void 0:a.reportingEvents)?JSON.parse(null==a?void 0:a.reportingEvents):null,d=null;class v{constructor(){this.Event=null,this.EventData=null,this.ExtraParams=null,this.Event=null,this.EventData=null,this.ExtraParams=null}}let p=(e,t)=>{for(let o in t)Object.prototype.hasOwnProperty(o)&&(e[o]=t[o]);return e};class c{GetReportObject(e,t,o){let r=(0,l.vq)();if(d=null===d||r?p(s,l.$z):d,(0,l.h$)(!1),void 0===t)return console.warn("ReportObjectManagerBase.GetReportObject. eventName was undefined"),null;let n=d[t];if(void 0===n)return console.warn('ReportObjectManagerBase.GetReportObject. No event definion could be found with eventName "'+t+'".'),null;e=null==e?"":e;let i=this._GetEventDataAssociatedToReportableObjectProperties(n.idRO,e),a=new v;return a.Event=n,a.EventData=i,a.ExtraParams=o,a}constructor(){this._IsJson=e=>{try{JSON.parse(e)}catch(e){return!1}return!0},this._GetEventDataAssociatedToReportableObjectProperties=(e,t)=>{let o={rawData:t};if(null==e||0===e.length||null===t||0===t.length)return o;let r=u[e];if(null===r||null===r.dataFormat)return o;let n=this._IsJson(t);if(n){let e=JSON.parse(t),n=[];for(let t=0;t<r.dataFormat.length;t++){let o=e[r.dataFormat[t]];n.push(void 0===o?"":o)}t=n.join("|"),o.rawData=t}let i=t.split("|");if(r.dataFormat)for(let e=0;e<Math.min(r.dataFormat.length,i.length);e++)o[r.dataFormat[e]]=i[e];return o}}}void 0===window.ReportObjectManager&&(window.ReportObjectManager=new c);let g=window.ReportObjectManager;void 0===window.EventReporter&&(window.EventReporter=new class{DoReport(e,t,o){let r=this._reportObjectManager.GetReportObject(e,t,o);null!==r&&this._TriggerReportingEvent(r.Event.id,[r])}DoReportArray(e,t,o){var r,n;let i=[];for(let r=0;r<e.length;r++){let n=null;null!==(n=Array.isArray(o)&&void 0!==o[r]&&null!==o[r]?this._reportObjectManager.GetReportObject(e[r],t,o[r]):this._reportObjectManager.GetReportObject(e[r],t,null))&&i.push(n)}0!==i.length&&this._TriggerReportingEvent(null===(r=i[0])||void 0===r?void 0:null===(n=r.Event)||void 0===n?void 0:n.id,i)}_TriggerReportingEvent(e,t){let o=new CustomEvent(e,{detail:{reportObjectArray:t}});window.dispatchEvent(o)}render(){return null}constructor(e){this._reportObjectManager=new c,this._reportObjectManager=e.reportObjectManager}}({reportObjectManager:g}));class h{Start(e){if(this._isLoaded)return;this._eventReporter=e.eventReporter,this._isLoaded=!0;let t=e.reportQueueManager.GetQueues();t.bindAllReportEventsQueue.forEach(e=>{this._ExecuteBindAllReportingEvents(e.eventHandler)}),t.bindCustomReportingEventQueue.forEach(e=>{this.BindCustomReportingEvent(e.eventName,e.eventId,e.eventHandler,e.idReportableObject)}),t.reportQueue.forEach(e=>{this.Report(e.index,e.eventName)}),t.doReportQueue.forEach(e=>{this.DoReport(e.data,e.eventName,e.extraParams)}),t.doReportArrayQueue.forEach(e=>{this.DoReportArray(e.arrayReportData,e.eventName,e.arrayExtraParams)}),t.doReportAssociativeArrayQueue.forEach(e=>{this.DoReportAssociativeArray(e.associativeArrayReportData,e.eventName,e.associativeArrayExtraParams)}),t.bindAllReportEventsQueue.length=0,t.bindCustomReportingEventQueue.length=0,t.reportQueue.length=0,t.doReportQueue.length=0,t.doReportArrayQueue.length=0,t.doReportAssociativeArrayQueue.length=0}BindAllReportingEvents(e){this._ExecuteBindAllReportingEvents(e)}_ExecuteBindAllReportingEvents(e){Object.entries(s).forEach(t=>{this._BindReportingEvent(t[1].id,e)})}_BindReportingEvent(e,t){i.b.addEventListener(e,window,t)}_DoReportByIndex(e,t,o,r){if(!e||e.length<=o||!e[o])return;let n=null==t?void 0:t[o];n?this.DoReport(e[o],r,n):this.DoReport(e[o],r)}constructor(){this._eventReporter=window.EventReporter,this._isLoaded=!1,this.BindCustomReportingEvent=(e,t,o,r)=>{l.$z[e]={id:t,name:e,getDataFormat:function(){return null}},void 0!==r&&(l.$z[e].idRO=r),(0,l.h$)(!0),this._BindReportingEvent(t,o)},this.Report=(e,t,o)=>{let n=[],i=null;o?(o===r.g.Associates||o===r.g.AssociatesAgents)&&(n=(0,l.cI)(),i=(0,l.DM)("agentitem")):(n=(0,l.p9)(),i=(0,l.DM)()),void 0!==i&&Array.isArray(i)?this._DoReportByIndex(n,i,e,t):this._DoReportByIndex(n,null,e,t)},this.DoReport=(e,t,o)=>{var r;null===(r=this._eventReporter)||void 0===r||r.DoReport(e,t,o)},this.DoReportAssociativeArray=(e,t,o)=>{let r=[];void 0!==e&&Object.values(e).forEach(e=>{r.push(e)});let n=[];void 0!==o&&Object.values(o).forEach(e=>{n.push(e)}),this.DoReportArray(r,t,n)},this.DoReportArray=(e,t,o)=>{var r;null===(r=this._eventReporter)||void 0===r||r.DoReportArray(e,t,o)}}}void 0!==window.ReportManagerImplentation&&(window.ReportManagerImplentation=new h)},13307:function(e,t,o){o.d(t,{$z:function(){return i},DM:function(){return g},L8:function(){return p},cI:function(){return R},h$:function(){return a},p9:function(){return h},tE:function(){return d},vq:function(){return u},yG:function(){return v}});var r=o(91752),n=o(5956);let i={},l=!1;function a(e){l=e}function u(){return l}void 0===window.ReportQueueManager&&(window.ReportQueueManager=new class{Start(){}BindAllReportingEvents(e){this._BindAllReportEventsQueue.push({eventHandler:e})}BindCustomReportingEvent(e,t,o,r){this._BindCustomReportingEventQueue.push({eventName:e,eventId:t,eventHandler:o,idReportableObject:r})}Report(e,t){this._ReportQueue.push({index:e,eventName:t})}DoReport(e,t,o){this._DoReportQueue.push({data:e,eventName:t,extraParams:o})}DoReportAssociativeArray(e,t,o){this._DoReportAssociativeArrayQueue.push({associativeArrayReportData:e,eventName:t,associativeArrayExtraParams:o})}DoReportArray(e,t,o){this._DoReportArrayQueue.push({arrayReportData:e,eventName:t,arrayExtraParams:o})}GetQueues(){return{bindAllReportEventsQueue:this._BindAllReportEventsQueue,bindCustomReportingEventQueue:this._BindCustomReportingEventQueue,reportQueue:this._ReportQueue,doReportQueue:this._DoReportQueue,doReportArrayQueue:this._DoReportArrayQueue,doReportAssociativeArrayQueue:this._DoReportAssociativeArrayQueue}}constructor(){this._BindAllReportEventsQueue=[],this._BindCustomReportingEventQueue=[],this._ReportQueue=[],this._DoReportQueue=[],this._DoReportArrayQueue=[],this._DoReportAssociativeArrayQueue=[]}});let s=new n.FN,d=e=>{s.BindAllReportingEvents(e)},v=(e,t,o)=>{s.Report(e,t,o)},p=(e,t,o)=>{s.DoReport(e,t,o)},c=(0,r.G)().AllModuleData(),g=e=>{let t=["sourcename","address","addrdisplay","idlisting","brokerid","idmls","idclient","brokername","agentname","idweb","idaccount","canonicalurl"],o=["sourcename","address","addrdisplay","idlisting","brokerid","mlsid","idclient","brokername","agentname","webid","idAccount","canonicalurl"],r={},n=e||"listingitem";for(let e of c)if(e.moduleName===n){var i,l,a,u,s,d,v,p,g,h,R,_,E;let c=null;if("listingitem"===n?c=(null==e?void 0:null===(i=e.legacyData)||void 0===i?void 0:i.result)?null==e?void 0:null===(l=e.legacyData)||void 0===l?void 0:null===(a=l.result)||void 0===a?void 0:null===(u=a.listing)||void 0===u?void 0:u.node:(null==e?void 0:null===(s=e.legacyData)||void 0===s?void 0:null===(d=s.listing)||void 0===d?void 0:d.node)?null===(v=e.legacyData.listing)||void 0===v?void 0:v.node:void 0:"agentitem"===n&&(c=(null==e?void 0:null===(p=e.legacyData)||void 0===p?void 0:p.result)?null==e?void 0:null===(g=e.legacyData)||void 0===g?void 0:null===(h=g.result)||void 0===h?void 0:h.agent.node:(null==e?void 0:null===(R=e.legacyData)||void 0===R?void 0:null===(_=R.agent)||void 0===_?void 0:_.node)?null===(E=e.legacyData.agent)||void 0===E?void 0:E.node:void 0),c){let e={};for(let o of t)if("idmls"===o){let t=c.find(e=>"idmls"===e._attributes.id.toLowerCase());e[o]=t?null==t?void 0:t._text:""}else if("idweb"===o){let t=c.find(e=>"idweb"===e._attributes.id.toLowerCase());e[o]=t?null==t?void 0:t._text:""}else if("agentname"===o){let t=c.find(e=>"agent1name"===e._attributes.id.toLowerCase());e[o]=t?null==t?void 0:t._text:""}else{let t=c.find(e=>e._attributes.id.toLowerCase()===o.toLowerCase());e[o]=t?null==t?void 0:t._text:""}let i={_text:""};"listingitem"===n?i=c.find(e=>"idweb"===e._attributes.id.toLowerCase()):"agentitem"===n&&(i=c.find(e=>"agent1name"===e._attributes.id.toLowerCase())),(null==i?void 0:i._text)&&(r[i._text]={},t.map((t,n)=>{r[i._text][o[n]]=e[t]}))}}return r},h=()=>{let e={};for(let s of c)if("listingitem"===s.moduleName&&s.legacyData.result){var t,o,r,n,i,l,a,u;let d=null==s?void 0:null===(t=s.legacyData)||void 0===t?void 0:null===(o=t.result)||void 0===o?void 0:null===(r=o.listing)||void 0===r?void 0:null===(n=r._attributes)||void 0===n?void 0:n.id,v=null==s?void 0:null===(i=s.legacyData)||void 0===i?void 0:null===(l=i.result)||void 0===l?void 0:null===(a=l.listing)||void 0===a?void 0:null===(u=a.reportdata)||void 0===u?void 0:u._text;e[d]=v}return e},R=()=>{let e={};for(let s of c)if("agentitem"===s.moduleName&&s.legacyData.result){var t,o,r,n,i,l,a,u;let d=null==s?void 0:null===(t=s.legacyData)||void 0===t?void 0:null===(o=t.result)||void 0===o?void 0:null===(r=o.listing)||void 0===r?void 0:null===(n=r._attributes)||void 0===n?void 0:n.id,v=null==s?void 0:null===(i=s.legacyData)||void 0===i?void 0:null===(l=i.result)||void 0===l?void 0:null===(a=l.listing)||void 0===a?void 0:null===(u=a.reportdata)||void 0===u?void 0:u._text;e[d]=v}return e}}}]);